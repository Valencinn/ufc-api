-- use database
USE ufc;

-- =====================================================
-- FULL RESET
-- =====================================================
DROP TABLE IF EXISTS fights;
DROP TABLE IF EXISTS fighters;
DROP TABLE IF EXISTS divisions;
DROP TABLE IF EXISTS events;

-- =====================================================
-- SCHEMA
-- =====================================================
CREATE TABLE divisions (
    weight_class_id INT AUTO_INCREMENT PRIMARY KEY,
    class_name VARCHAR(50),
    gender ENUM('Male', 'Female') NOT NULL
);

CREATE TABLE fighters (
    fighter_id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    nickname VARCHAR(50),
    gender ENUM('Male', 'Female'),
    weight_class_id INT,
    country VARCHAR(50),
    CONSTRAINT fk_fighter_division 
        FOREIGN KEY (weight_class_id) REFERENCES divisions(weight_class_id)
);

CREATE TABLE events (
    event_id INT AUTO_INCREMENT PRIMARY KEY,
    edition_number INT,
    event_name VARCHAR(120) NOT NULL,
    event_date DATE,
    location_name VARCHAR(200)
);

CREATE TABLE fights (
    fight_id INT AUTO_INCREMENT PRIMARY KEY,
    event_id INT NOT NULL,
    fighter_red INT NOT NULL,
    fighter_blue INT NOT NULL,
    winner INT NULL,
    method VARCHAR(80),
    round_number INT,
    notes TEXT,
    CONSTRAINT fk_fights_event FOREIGN KEY (event_id) REFERENCES events(event_id),
    CONSTRAINT fk_fights_red FOREIGN KEY (fighter_red) REFERENCES fighters(fighter_id),
    CONSTRAINT fk_fights_blue FOREIGN KEY (fighter_blue) REFERENCES fighters(fighter_id),
    CONSTRAINT fk_fights_winner FOREIGN KEY (winner) REFERENCES fighters(fighter_id)
);

-- =====================================================
-- SEED DATA
-- =====================================================
INSERT INTO divisions (class_name, gender) VALUES
('Flyweight', 'Male'),
('Bantamweight', 'Male'),
('Featherweight', 'Male'),
('Lightweight', 'Male'),
('Welterweight', 'Male'),
('Middleweight', 'Male'),
('Light Heavyweight', 'Male'),
('Heavyweight', 'Male'),
('Strawweight', 'Female'),
('Flyweight', 'Female'),
('Bantamweight', 'Female'),
('Featherweight', 'Female');

INSERT INTO fighters (first_name, last_name, nickname, gender, weight_class_id, country) VALUES
('Conor', 'McGregor', 'The Notorious', 'Male', 4, 'Ireland'),
('Khabib', 'Nurmagomedov', 'The Eagle', 'Male', 4, 'Russia'),
('Amanda', 'Nunes', 'The Lioness', 'Female', 11, 'Brazil'),
('Jon', 'Jones', 'Bones', 'Male', 7, 'USA'),
('Valentina', 'Shevchenko', 'Bullet', 'Female', 10, 'Kyrgyzstan'),
('Islam', 'Makhachev', NULL, 'Male', 5, 'Russia'),
('Ilia', 'Topuria', 'El Matador', 'Male', 4, 'Spain'),
('Merab', 'Dvalishvili', 'The Machine', 'Male', 2, 'Georgia'),
('Khamzat', 'Chimaev', 'Borz', 'Male', 6, 'Russia'),
('Alexandre', 'Pantoja', 'The Cannibal', 'Male', 1, 'Brazil'),
('Alex', 'Pereira', 'Poatan', 'Male', 7, 'Brazil'),
('Alexander', 'Volkanovski', 'The Great', 'Male', 3, 'Australia'),
('Tom', 'Aspinall', NULL, 'Male', 8, 'England'),
('Dricus', 'Du Plessis', 'Stillknocks', 'Male', 6, 'South Africa'),
('Max', 'Holloway', 'Blessed', 'Male', 4, 'USA'),
('Jack', 'Della Maddalena', NULL, 'Male', 5, 'Australia'),
('Magomed', 'Ankalaev', NULL, 'Male', 7, 'Russia'),
('Arman', 'Tsarukyan', NULL, 'Male', 4, 'Armenia'),
('Charles', 'Oliveira', 'Do Bronx', 'Male', 4, 'Brazil'),
('Belal', 'Muhammad', 'Remember the Name', 'Male', 5, 'USA'),
('Joshua', 'Van', NULL, 'Male', 1, 'Burma'),
('Brandon', 'Moreno', NULL, 'Male', 1, 'Mexico'),
('Brandon', 'Royval', NULL, 'Male', 1, 'USA'),
('Amir', 'Albazi', NULL, 'Male', 1, 'Irak'),
('Tatsuro', 'Taira', NULL, 'Male', 1, 'Japan'),
('Manel', 'Kape', NULL, 'Male', 1, 'Angola'),
('Asu', 'Almabayev', NULL, 'Male', 1, 'Kazakhstan'),
('Kyoji', 'Horiguchi', NULL, 'Male', 1, 'Japan'),
('Tim', 'Elliott', NULL, 'Male', 1, 'USA'),
('Steve', 'Erceg', NULL, 'Male', 1, 'Australia'),
('Alex', 'Perez', NULL, 'Male', 1, 'USA'),
('Tagir', 'Ulanbekov', NULL, 'Male', 1, 'Russia'),
('Charles', 'Johnson', NULL, 'Male', 1, 'USA'),
('Bruno', 'Silva', NULL, 'Male', 1, 'Brazil'),
('Loneer', 'Kavanagh', NULL, 'Male', 1, 'England'),
('Umar', 'Nurmagomedov', NULL, 'Male', 2, 'Russia'),
('Sean', 'O\'Malley', NULL, 'Male', 2, 'USA'),
('Petr', 'Yan', NULL, 'Male', 2, 'Russia'),
('Cory', 'Sandhagen', NULL, 'Male', 2, 'USA'),
('Song', 'Yadong', NULL, 'Male', 2, 'China'),
('Deiveson', 'Figueiredo', NULL, 'Male', 2, 'Brazil'),
('Aiemann', 'Zahabi', NULL, 'Male', 2, 'Canada'),
('Marlon', 'Vera', NULL, 'Male', 2, 'Ecuador'),
('Mario', 'Bautista', NULL, 'Male', 2, 'USA'),
('Henry', 'Cejudo', NULL, 'Male', 2, 'USA'),
('David', 'Martinez', NULL, 'Male', 2, 'Mexico'),
('Rob', 'Font', NULL, 'Male', 2, 'USA'),
('Vinicius', 'Oliveira', NULL, 'Male', 2, 'Brazil'),
('Kyler', 'Phillips', NULL, 'Male', 2, 'USA'),
('Marcus', 'McGhee', NULL, 'Male', 2, 'USA'),
('Movsar', 'Evloev', NULL, 'Male', 3, 'Russia'),
('Diego', 'Lopes', NULL, 'Male', 3, 'Brazil'),
('Yair', 'Rodriguez', NULL, 'Male', 3, 'Mexico'),
('Lerone', 'Murphy', NULL, 'Male', 3, 'England'),
('Aljamain', 'Sterling', NULL, 'Male', 3, 'USA'),
('Arnold', 'Allen', NULL, 'Male', 3, 'England'),
('Youssef', 'Zalal', NULL, 'Male', 3, 'Morroco'),
('Steve', 'Garcia', NULL, 'Male', 3, 'USA'),
('Brian', 'Ortega', NULL, 'Male', 3, 'USA'),
('Josh', 'Emmett', NULL, 'Male', 3, 'USA'),
('Jean', 'Silva', NULL, 'Male', 3, 'Brazil'),
('Patricio', 'Pitbull', NULL, 'Male', 3, 'Brazil'),
('Dan', 'Ige', NULL, 'Male', 3, 'USA'),
('David', 'Onama', NULL, 'Male', 3, 'Uganda'),
('Giga', 'Chikadze', NULL, 'Male', 3, 'Georgia'),
('Justin', 'Gaethje', NULL, 'Male', 4, 'USA'),
('Paddy', 'Pimblett', NULL, 'Male', 4, 'England'),
('Dan', 'Hooker', NULL, 'Male', 4, 'New Zealand'),
('Mateusz', 'Gamrot', NULL, 'Male', 4, 'Poland'),
('Benoit', 'Saint Denis', NULL, 'Male', 4, 'France'),
('Rafael', 'Fiziev', NULL, 'Male', 4, 'Kazakhstan'),
('Renato', 'Moicano', NULL, 'Male', 4, 'Brazil'),
('Michael', 'Chandler', NULL, 'Male', 4, 'USA'),
('Beneil', 'Dariush', NULL, 'Male', 4, 'USA'),
('Grant', 'Dawson', NULL, 'Male', 4, 'USA'),
('Mauricio', 'Ruffy', NULL, 'Male', 4, 'Brazil'),
('Ignacio', 'Bahamondes', NULL, 'Male', 4, 'Chile'),
('Ian', 'Machado Garry', NULL, 'Male', 5, 'Ireland'),
('Shavkat', 'Rakhmonov', NULL, 'Male', 5, 'Kazakhstan'),
('Michael', 'Morales', NULL, 'Male', 5, 'Ecuador'),
('Carlos', 'Prates', NULL, 'Male', 5, 'Brazil'),
('Sean', 'Brady', NULL, 'Male', 5, 'USA'),
('Kamaru', 'Usman', NULL, 'Male', 5, 'Nigeria'),
('Leon', 'Edwards', NULL, 'Male', 5, 'England'),
('Joaquin', 'Buckley', NULL, 'Male', 5, 'USA'),
('Gabriel', 'Bonfim', NULL, 'Male', 5, 'Brazil'),
('Gilbert', 'Burns', NULL, 'Male', 5, 'Brazil'),
('Colby', 'Covington', NULL, 'Male', 5, 'USA'),
('Geoff', 'Neal', NULL, 'Male', 5, 'USA'),
('Daniel', 'Rodriguez', NULL, 'Male', 5, 'USA'),
('Nassourdine', 'Imavov', NULL, 'Male', 6, 'France'),
('Sean', 'Strickland', NULL, 'Male', 6, 'USA'),
('Anthony', 'Hernandez', NULL, 'Male', 6, 'USA'),
('Brendan', 'Allen', NULL, 'Male', 6, 'USA'),
('Israel', 'Adesanya', NULL, 'Male', 6, 'Nigeria'),
('Caio', 'Borralho', NULL, 'Male', 6, 'Brazil'),
('Reinier', 'De Ridder', NULL, 'Male', 6, 'Netherlands'),
('Robert', 'Whittaker', NULL, 'Male', 6, 'Australia'),
('Jared', 'Cannonier', NULL, 'Male', 6, 'USA'),
('Michael', 'Page', NULL, 'Male', 6, 'England'),
('Roman', 'Dolidze', NULL, 'Male', 6, 'Georgia'),
('Paulo', 'Costa', NULL, 'Male', 6, 'Brazil'),
('Marvin', 'Vettori', NULL, 'Male', 6, 'Italy'),
('Gregory', 'Rodrigues', NULL, 'Male', 6, 'Brazil'),
('Jiri', 'Prochazka', NULL, 'Male', 7, 'Czechia'),
('Carlos', 'Ulberg', NULL, 'Male', 7, 'New Zealand'),
('Khalil', 'Rountree Jr', NULL, 'Male', 7, 'USA'),
('Jan', 'Blachowicz', NULL, 'Male', 7, 'Poland'),
('Jamahal', 'Hill', NULL, 'Male', 7, 'USA'),
('Azamat', 'Murzakanov', NULL, 'Male', 7, 'Russia'),
('Dominick', 'Reyes', NULL, 'Male', 7, 'USA'),
('Volkan', 'Oezdemir', NULL, 'Male', 7, 'Switzerland'),
('Aleksandar', 'Rakic', NULL, 'Male', 7, 'Austria'),
('Bogdan', 'Guskov', NULL, 'Male', 7, 'Uzbekistan'),
('Johnny', 'Walker', NULL, 'Male', 7, 'Brazil'),
('Nikita', 'Krylov', NULL, 'Male', 7, 'Ukraine'),
('Zhang', 'Mingyang', NULL, 'Male', 7, 'China'),
('Alonzo', 'Menifield', NULL, 'Male', 7, 'USA'),
('Ciryl', 'Gane', NULL, 'Male', 8, 'France'),
('Alexander', 'Volkov', NULL, 'Male', 8, 'Russia'),
('Sergei', 'Pavlovich', NULL, 'Male', 8, 'Russia'),
('Curtis', 'Blaydes', NULL, 'Male', 8, 'USA'),
('Waldo', 'Cortes Acosta', NULL, 'Male', 8, 'Dominican Republic'),
('Jailton', 'Almeida', NULL, 'Male', 8, 'Brazil'),
('Serghei', 'Spivac', NULL, 'Male', 8, 'Moldova'),
('Derrick', 'Lewis', NULL, 'Male', 8, 'USA'),
('Ante', 'Delija', NULL, 'Male', 8, 'Croatia'),
('Marcin', 'Tybura', NULL, 'Male', 8, 'Poland'),
('Shamil', 'Gaziev', NULL, 'Male', 8, 'Russia'),
('Tai', 'Tuivasa', NULL, 'Male', 8, 'Australia'),
('Mick', 'Parkin', NULL, 'Male', 8, 'England'),
('Valter', 'Walker', NULL, 'Male', 8, 'Brazil'),
('Tallison', 'Teixeira', NULL, 'Male', 8, 'Brazil'),
('Zhang', 'Weili', NULL, 'Female', 9, 'China'),
('Tatiana', 'Suarez', NULL, 'Female', 9, 'USA'),
('Virna', 'Jandiroba', NULL, 'Female', 9, 'Brazil'),
('Yan', 'Xiaonan', NULL, 'Female', 9, 'China'),
('Amanda', 'Lemos', NULL, 'Female', 9, 'Brazil'),
('Loopy', 'Godinez', NULL, 'Female', 9, 'Mexico'),
('Iasmin', 'Lucindo', NULL, 'Female', 9, 'Brazil'),
('Tabatha', 'Ricci', NULL, 'Female', 9, 'Brazil'),
('Jessica', 'Andrade', NULL, 'Female', 9, 'Brazil'),
('Gillian', 'Robertson', NULL, 'Female', 9, 'Canada'),
('Amanda', 'Ribas', NULL, 'Female', 9, 'Brazil'),
('Fatima', 'Kline', NULL, 'Female', 9, 'USA'),
('Denise', 'Gomes', NULL, 'Female', 9, 'Brazil'),
('Angela', 'Hill', NULL, 'Female', 9, 'USA'),
('Alexia', 'Thainara', NULL, 'Female', 9, 'Brazil'),
('Manon', 'Fiorot', NULL, 'Female', 10, 'France'),
('Natalia', 'Silva', NULL, 'Female', 10, 'Brazil'),
('Alexa', 'Grasso', NULL, 'Female', 10, 'Mexico'),
('Erin', 'Blanchfield', NULL, 'Female', 10, 'USA'),
('Maycee', 'Barber', NULL, 'Female', 10, 'USA'),
('Rose', 'Namajunas', NULL, 'Female', 10, 'USA'),
('Jasmine', 'Jasudavicius', NULL, 'Female', 10, 'Canada'),
('Tracy', 'Cortez', NULL, 'Female', 10, 'USA'),
('Karine', 'Silva', NULL, 'Female', 10, 'Brazil'),
('Miranda', 'Maverick', NULL, 'Female', 10, 'USA'),
('Casey', 'ONeill', NULL, 'Female', 10, 'Australian'),
('Wang', 'Cong', NULL, 'Female', 10, 'China'),
('Eduarda', 'Moura', NULL, 'Female', 10, 'Brazil'),
('JJ', 'Aldrich', NULL, 'Female', 10, 'USA'),
('Gabriella', 'Fernandes', NULL, 'Female', 10, 'Brazil'),
('Julianna', 'Pe√±a', NULL, 'Female', 11, 'USA'),
('Raquel', 'Pennington', NULL, 'Female', 11, 'USA'),
('Norma', 'Dumont', NULL, 'Female', 11, 'Brazil'),
('Ketlen', 'Vieira', NULL, 'Female', 11, 'Brazil'),
('Yana', 'Santos', NULL, 'Female', 11, 'Russia'),
('Irene', 'Aldana', NULL, 'Female', 11, 'Mexico'),
('Macy', 'Chiasson', NULL, 'Female', 11, 'USA'),
('Ailin', 'Perez', NULL, 'Female', 11, 'Argentina'),
('Karol', 'Rosa', NULL, 'Female', 11, 'Brazil'),
('Jacqueline', 'Cavalcanti', NULL, 'Female', 11, 'Portugal'),
('Mayra', 'Bueno Silva', NULL, 'Female', 11, 'Brazil'),
('Nora', 'Cornolle', NULL, 'Female', 11, 'France'),
('Miesha', 'Tate', NULL, 'Female', 11, 'USA'),
('Joselyne', 'Edwards', NULL, 'Female', 11, 'Panama'),
('Luana', 'Santos', NULL, 'Female', 11, 'Brazil'),
('Kayla', 'Harrison', NULL, 'Female', 12, 'USA');

INSERT INTO events (edition_number, event_name, event_date, location_name) VALUES
(295, 'UFC 295: Prochazka vs Pereira', '2023-11-11', 'Madison Square Garden, New York'),
(296, 'UFC 296: Edwards vs Covington', '2023-12-16', 'Las Vegas, Nevada');

INSERT INTO fights (event_id, fighter_red, fighter_blue, winner, method, round_number, notes) VALUES
(1, 1, 2, 2, 'Submission', 4, 'Rear-naked choke'),
(1, 3, 5, 3, 'Decision', 5, 'Split decision'),
(2, 4, 1, 4, 'KO', 1, 'Head kick'),
(2, 2, 1, NULL, 'Scheduled', NULL, 'Fight has not occurred yet');

